<!-- inicio-sesion.component.html (toggle invertido para ojo cerrado al inicio) -->
<div class="contenedor-login">
  <form (ngSubmit)="onSubmit(loginForm)" #loginForm="ngForm" class="tarjeta-login">
    <h2 class="titulo">Bienvenido de nuevo</h2>

    <div class="inicio-social">
      <button type="button" class="btn-social google" (click)="loginConGoogle()">
        <img src="https://www.svgrepo.com/show/475656/google-color.svg" alt="Google" />
        Iniciar con Google
      </button>
    </div>

    <div class="separador"><span>o</span></div>

    <div class="campo-formulario">
      <label for="email">Correo electrónico</label>
      <input type="email" id="email" name="email" ngModel #emailInput="ngModel" required email
        placeholder="Ingresa tu correo" />
      <small class="mensaje-error" *ngIf="emailInput.invalid && emailInput.touched">
        <span *ngIf="emailInput.errors?.['required']">Este campo es obligatorio.</span>
        <span *ngIf="emailInput.errors?.['email']">
          Debe ser un correo válido (contiene &#64; y .).
        </span>
      </small>

    </div>

    <!-- Contraseña con toggle -->
    <div class="campo-formulario password-group">
      <label for="password">Contraseña</label>
      <div class="input-toggle">
        <input [type]="showPassword ? 'text' : 'password'" id="password" name="password" ngModel required minlength="6"
          #contrasena="ngModel" placeholder="********" />
        <div class="error" *ngIf="contrasena.invalid && contrasena.touched">
          <small *ngIf="contrasena.errors?.['required']">La contraseña es obligatoria.</small>
          <small *ngIf="contrasena.errors?.['minlength']">Debe tener al menos 6 caracteres.</small>
        </div>


        <button type="button" class="toggle-btn" (click)="toggleShowPassword()" tabindex="-1"
          aria-label="Mostrar u ocultar contraseña">
          <img *ngIf="!showPassword" src="./assets/icons/hide.png" alt="Mostrar contraseña"
            title="Mostrar contraseña" />
          <img *ngIf="showPassword" src="./assets/icons/view.png" alt="Ocultar contraseña" title="Ocultar contraseña" />
        </button>
      </div>
    </div>


    <div class="pie-formulario">
      <label class="recordar">
        <input type="checkbox" name="recordarme" ngModel />
        Recuérdame
      </label>
      <a [routerLink]="['/login/recuperar-acceso']" class="enlace">¿Olvidaste tu contraseña?</a>
    </div>

    <button type="submit" class="btn-enviar" [disabled]="loginForm.invalid">
      Iniciar sesión
    </button>

    <div class="registro">
      ¿No tienes una cuenta? <a [routerLink]="['/login/registro-sesion']">Regístrate aquí</a>
    </div>

    <!-- Mensaje flotante encima del formulario -->
    <div class="mensaje-flotante" *ngIf="mensaje">
      {{ mensaje }}
    </div>

  </form>
</div>